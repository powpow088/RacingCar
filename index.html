<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Survival Racing 2D</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- 主選單 (Pre-Game UI) -->
    <div id="main-menu" class="screen active">
        <h1>生存賽車 2D</h1>

        <div class="menu-section">
            <h2>選擇難度</h2>
            <div class="options-group" id="difficulty-options">
                <button class="diff-btn selected" data-diff="easy">簡單</button>
                <button class="diff-btn" data-diff="normal">普通</button>
                <button class="diff-btn" data-diff="hard">困難</button>
            </div>
            <p id="diff-desc" class="desc-text">起始時間充裕。車流密度低。速度較慢。</p>
        </div>

        <div class="menu-section selection-car-section">
            <h2>選擇車輛</h2>
            <div class="car-showcase-container">
                <div class="car-card selected" data-car="balanced">
                    <canvas class="car-preview" id="preview-balanced" width="60" height="90"></canvas>
                    <h3>均衡型</h3>
                    <p>血量: 10<br>加速度: 中<br>轉向: 中<br>新手適用</p>
                </div>
                <div class="car-card" data-car="heavy">
                    <canvas class="car-preview" id="preview-heavy" width="60" height="90"></canvas>
                    <h3>重裝卡車</h3>
                    <p>血量: 15<br>加速度: 慢<br>轉向: 遲鈍<br>高容錯率</p>
                </div>
                <div class="car-card" data-car="sports">
                    <canvas class="car-preview" id="preview-sports" width="60" height="90"></canvas>
                    <h3>競速跑車</h3>
                    <p>血量: 5<br>加速度: 極快<br>轉向: 靈敏<br>高手挑戰</p>
                </div>
                <div class="car-card" data-car="ultraman">
                    <canvas class="car-preview" id="preview-ultraman" width="60" height="90"></canvas>
                    <h3>奧特曼</h3>
                    <p>血量: 10<br>加速度: 光速<br>轉向: 超靈敏<br>隱藏機體</p>
                </div>
            </div>
        </div>

        <button id="start-btn" class="action-btn">開始遊戲</button>
    </div>

    <!-- 遊戲進行畫面 (Game UI) -->
    <div id="game-screen" class="screen">
        <!-- 畫布區 -->
        <canvas id="gameCanvas"></canvas>

        <!-- HUD (抬頭顯示器) -->
        <div id="hud">
            <div class="hud-item hp-display">血量: <span id="hud-hp">3</span></div>
            <div class="hud-item time-display">時間: <span id="hud-time">60.0</span>s</div>
            <div class="hud-item score-display">距離: <span id="hud-dist">0</span>m</div>
            <div class="hud-item speed-display">時速: <span id="hud-speed">0</span>km/h</div>
            <div class="hud-item ammo-display">飛彈: <span id="hud-ammo">Lv.1</span></div>
            <div class="hud-item coin-display">金幣: <span id="hud-coins">0</span>/5</div>
        </div>

        <!-- 虛擬按鍵 (Mobile Only) -->
        <div id="virtual-controls">
            <div class="control-group-left">
                <div class="steer-row">
                    <button class="v-btn steer" id="btn-left">◀</button>
                    <button class="v-btn steer" id="btn-right">▶</button>
                </div>
                <button class="v-btn brake" id="btn-brake">▼</button>
            </div>
            <div class="control-group-right">
                <button class="v-btn action" id="btn-fire">🎯</button>
                <div style="width: 20px;"></div>
                <button class="v-btn accel" id="btn-accel">▲</button>
            </div>
        </div>

        <!-- 大絕招/特效提示文字 -->
        <div id="effect-notice"></div>
    </div>

    <!-- 遊戲結束畫面 (Game Over UI) -->
    <div id="game-over-screen" class="screen">
        <h1 id="go-title">遊戲結束</h1>
        <p id="go-reason">時間到了！</p>
        <p class="final-score">最終行駛距離: <span id="go-dist">0</span>km</p>
        <p class="final-score" style="font-size:1.5rem; margin-top: -20px;">最高時速: <span id="go-max-speed">0</span>km/h
        </p>
        <button id="restart-btn" class="action-btn">回主畫面</button>
    </div>

    <script src="audio.js"></script>
    <script src="game.js"></script>
</body>

</html>